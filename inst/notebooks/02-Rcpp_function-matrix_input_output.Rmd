---
title: "R Notebook"
output: html_notebook
---

Matrix input, vector output

Each vector type has a matrix equivalent: NumericMatrix, IntegerMatrix, CharacterMatrix, and LogicalMatrix. Using them is straightforward. For example, we could create a function that reproduces rowSums():

```{r}
library(Rcpp)

cppFunction('NumericVector rowSumsC(NumericMatrix x) {
  int nrow = x.nrow(), ncol = x.ncol();
  NumericVector out(nrow);

  for (int i = 0; i < nrow; i++) {
    double total = 0;
    for (int j = 0; j < ncol; j++) {
      total += x(i, j);
    }
    out[i] = total;
  }
  return out;
}')

set.seed(1014)
x <- matrix(sample(100), 10)
rowSums(x)

#>  [1] 458 558 488 458 536 537 488 491 508 528

rowSumsC(x)
#>  [1] 458 558 488 458 536 537 488 491 508 528
```
The main differences:

* In C++, you subset a matrix with (), not [].

* Use .nrow() and .ncol() methods to get the dimensions of a matrix.

